(function(t){function e(e){for(var a,n,o=e[0],c=e[1],l=e[2],d=0,h=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&h.push(s[n][0]),s[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(h.length)h.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],a=!0,o=1;o<i.length;o++){var c=i[o];0!==s[c]&&(a=!1)}a&&(r.splice(e--,1),t=n(n.s=i[0]))}return t}var a={},s={app:0},r=[];function n(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=a,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("cd49")},"02fc":function(t,e,i){},"0bb0":function(t,e,i){"use strict";i("e8cb")},"0bf5":function(t,e,i){},"0d4b":function(t,e,i){},"0f6d":function(t,e,i){},2671:function(t,e,i){},"2f12":function(t,e,i){},3123:function(t,e,i){},"3eb2":function(t,e,i){"use strict";i("7d8c")},4042:function(t,e,i){"use strict";i("3123")},"4bf8":function(t,e,i){},"4f0e":function(t,e,i){"use strict";i("0bf5")},"50c1":function(t,e,i){},"5c0b":function(t,e,i){"use strict";i("9c0c")},"5cd8":function(t,e,i){"use strict";i("0d4b")},6692:function(t,e,i){},"6e1e":function(t,e,i){"use strict";i("0f6d")},7050:function(t,e,i){},"7d8c":function(t,e,i){},"7d8e":function(t,e,i){"use strict";i("c1c2")},"7e69":function(t,e,i){"use strict";i("2671")},"7e95":function(t,e,i){"use strict";i("cfaa")},"82dd":function(t,e,i){t.exports=i.p+"img/route-shirt.7083689e.png"},"83d1":function(t,e,i){},8874:function(t,e,i){t.exports=i.p+"img/wagon-shirt.d59fec6a.png"},8966:function(t,e,i){"use strict";i("50c1")},"9c0c":function(t,e,i){},bf85:function(t,e,i){"use strict";i("2f12")},c1c2:function(t,e,i){},c23f:function(t,e,i){"use strict";i("83d1")},c733:function(t,e,i){"use strict";i("7050")},cd49:function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),s=i("5132"),r=i.n(s),n=i("daa8"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Lobby",{directives:[{name:"show",rawName:"v-show",value:!t.getGameStatus&&-2!==t.getTurn,expression:"!getGameStatus && getTurn !== -2"}],attrs:{users:t.getUsers},on:{"add-new-user":t.addUser,"toggle-status":t.toggleStatus,"set-new-color":t.setColor}}),t.getGameStatus&&t.checkUserInPlayerList?i("div",{staticClass:"game"},[i("div",{staticClass:"game-main"},[i("user-side"),i("Map",{attrs:{visibleCities:t.visibleCities}}),i("deck-side")],1),i("player-side",{on:{showCities:t.showCities,hideCities:t.hideCities}})],1):t._e(),t.getGameStatus&&!t.checkUserInPlayerList?i("div",{staticClass:"game-already-start"},[t._v(" К сожалению игра уже началась. Ждите завершения. ")]):t._e(),t.showModal&&t.checkUserInPlayerList&&t.getGameStatus&&!t.currentUser.preTurn?i("modal-window",{attrs:{timer:t.prepareTimer},on:{"close-modalWindow":function(e){t.showModal=!1}}},[i("prepare",{attrs:{timer:t.prepareTimer},on:{"get-discarded":t.discardRoute,"close-modal":function(e){t.prepareTimer=.1}}})],1):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.getTurn<-1,expression:"getTurn < -1"}],staticClass:"preloader"}),-2!==t.getTurn?i("chat",{}):t._e()],1)},c=[],l=i("5530"),u=i("d4ec"),d=i("bee2"),h=i("262e"),p=i("2caf"),m=(i("4de4"),i("d3b7"),i("b0c0"),i("caad"),i("2532"),i("159b"),i("9ab4")),g=i("1b40"),f=i("2f62"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lobby-container"},[a("img",{staticClass:"logo-img",attrs:{src:i("fe22"),alt:"Ticket to Ride"}}),a("div",{staticClass:"new-user"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[t.arrayNames.includes(t.currentName)?a("div",{key:"ok",staticClass:"entered-name"},[a("h2",[t._v("Вы в игре под именем")]),a("h2",{staticClass:"current-name"},[t._v(t._s(t.currentName))]),a("Btn",{staticClass:"btn-decline",attrs:{title:"Покинуть лобби",method:t.quitLobby}})],1):a("div",{key:"edit",staticClass:"input-field"},[a("h2",{staticClass:"title"},[t._v("Добро пожаловать! "),a("br"),t._v(t._s(t.loginTitle))]),a("div",{staticClass:"input-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],ref:"nameInput",attrs:{type:"text",placeholder:t.namePlaceholder},domProps:{value:t.userName},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addNewUser.apply(null,arguments)},input:function(e){e.target.composing||(t.userName=e.target.value)}}}),a("div",{staticClass:"buttons"},[a("button",{staticClass:"btn",on:{click:function(e){t.addNewUser(),t.playBtnSound()}}},[t._v("Добавить")]),a("button",{staticClass:"btn",on:{click:function(e){t.clearInput(),t.playBtnSound()}}},[t._v("Очистить")])])])])])],1),a("div",{staticClass:"lobby"},[a("h3",[t._v("Список игроков:")]),0!==t.users.length?a("transition-group",{attrs:{tag:"ul",name:"slide-down"}},t._l(t.users,(function(e){return a("li",{key:e.name,class:{"my-name":e.name===t.currentName}},[a("div",{staticClass:"color-container"},[a("color-button",{attrs:{currentColor:e.color,clickable:e.name===t.currentName,usedColors:t.usedColors},on:{"change-color":t.setNewColor}})],1),a("p",{staticClass:"username"},[t._v(t._s(e.name))]),a("p",{class:["status",e.ready?"status-ready":"status-not"]},[t._v(" "+t._s(e.ready?"Готов ":"Еще не готов...")+" "),e.ready?a("i",{staticClass:"fa-solid fa-badge-check"}):t._e()]),a("Btn",{class:[e.ready?"btn-decline":"btn-accept",e.name!==t.currentName?"invisible":""],attrs:{title:e.ready?"Не готов!":"Готов!",method:t.toggleStatus}})],1)})),0):a("p",[t._v("Игроков пока нет...")])],1),t.checkResultLength?a("div",{staticClass:"result-table",style:{maxHeight:t.displayResult?"100rem":"6rem"},on:{click:function(e){t.displayResult=!t.displayResult}}},[a("div",{staticClass:"result-table-title"},[a("i",{staticClass:"fa-solid",class:[t.displayResult?"fa-arrow-down-from-dotted-line":"fa-arrow-up-from-dotted-line"]}),a("h2",[t._v("Результаты последней игры")]),a("i",{staticClass:"fa-solid",class:[t.displayResult?"fa-arrow-down-from-dotted-line":"fa-arrow-up-from-dotted-line"]})]),a("ul",{staticClass:"result-list"},[t._m(0),t._l(t.getResult,(function(e,i){return a("li",{key:e.name,staticClass:"result-item"},[a("p",{staticClass:"result-num title"},[t._v(t._s(i+1))]),a("p",{staticClass:"result-name"},[t._v(t._s(e.name))]),a("p",{staticClass:"result-points"},[t._v(t._s(e.points))]),a("p",{staticClass:"result-points"},[t._v(t._s(e.completedTasksPoints))]),a("p",{staticClass:"result-points"},[t._v(t._s(e.incompletedTasksPoints))]),a("p",{staticClass:"result-points"},[t._v(t._s(e.score))])])}))],2)]):t._e(),t._m(1)])},b=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"result-item"},[i("p",{staticClass:"result-num title"},[t._v("Место")]),i("p",{staticClass:"result-name title"},[t._v("Имя")]),i("p",{staticClass:"result-points title"},[t._v("Баллы за перегоны")]),i("p",{staticClass:"result-points title"},[t._v("Баллы за маршруты")]),i("p",{staticClass:"result-points title"},[t._v("Штрафы за маршруты")]),i("p",{staticClass:"result-points title"},[t._v("Сумма")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("footer",{staticClass:"footer"},[i("a",{staticClass:"footer-item",attrs:{href:"https://github.com/irnq",target:"blank"}},[t._v("irnq")]),i("a",{staticClass:"footer-item",attrs:{href:"https://github.com/ilua-dz",target:"blank"}},[t._v("ilua-dz")]),i("a",{staticClass:"footer-item rss-logo",attrs:{href:"https://rs.school/js/",target:"blank"}}),i("p",{staticClass:"footer-item"},[t._v("2022")])])}],y=(i("d81d"),i("7db0"),i("498a"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{class:[{clickable:t.clickable},t.showModal?"overlay":"color-button"],style:{backgroundColor:t.currentColor,cursor:t.clickable?"pointer":"unset"},on:{click:function(e){return t.open(e,t.usedColors,t.currentColor)}}},[t._v(" "+t._s(t.clickable&&!t.showModal?"Выбрать цвет":"")+" "),i("transition",{attrs:{name:"fade-n-grow"}},[t.showModal?i("color-box",{attrs:{x:t.modalX,y:t.modalY,"used-colors":t.usedColors,"current-color":t.currentColor},on:{"hide-modal":t.hideModal,"change-color":t.changeColor}}):t._e()],1)],1)}),C=[],k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"color-box",style:{top:t.top,left:t.left}},t._l(t.avatars,(function(e,a){return i("div",{key:a,staticClass:"color-box__button",class:{disabled:t.usedColors.includes(e.color)&&e.color!=t.currentColor,active:e.color===t.currentColor},staticStyle:{height:"32%",width:"32%"},style:{background:"center / contain no-repeat url("+e.avatar+")"+e.color,cursor:t.usedColors.includes(e.color)?"unset":"pointer",boxShadow:"0 0 0 1px "+e.color,border:"3px solid "+e.color},attrs:{"data-color":e.color},on:{click:function(e){t.changeColor(e),t.$emit("hide-modal",t.select)}}})})),0)},O=[],j=[{color:"#F0EFEB",avatar:"assets/lobby/avatars/white.svg"},{color:"#43AA8C",avatar:"assets/lobby/avatars/green.svg"},{color:"#3A86FE",avatar:"assets/lobby/avatars/blue.svg"},{color:"#D62828",avatar:"assets/lobby/avatars/red.svg"},{color:"#E36F6F",avatar:"assets/lobby/avatars/pink.svg"},{color:"#8338EB",avatar:"assets/lobby/avatars/violet.svg"},{color:"#FCBF4A",avatar:"assets/lobby/avatars/orange.svg"},{color:"#3C3C3C",avatar:"assets/lobby/avatars/black.svg"},{color:"#48CAE4",avatar:"assets/lobby/avatars/aqua.svg"}],w=j,_=function(t){Object(h["a"])(i,t);var e=Object(p["a"])(i);function i(){var t;return Object(u["a"])(this,i),t=e.apply(this,arguments),t.select="",t.avatars=w,t}return Object(d["a"])(i,[{key:"top",get:function(){return"".concat(this.y,"px")}},{key:"left",get:function(){return"".concat(this.x,"px")}},{key:"changeColor",value:function(t){if(t.target instanceof Element){var e=t.target,i=e.getAttribute("data-color");i||(i=""),this.usedColors.includes(i)||(this.select=i),i===this.currentColor&&(this.select=i),this.$store.commit("setCurrentColor",this.select),this.$emit("change-color",this.select)}}}]),i}(g["c"]);Object(m["a"])([Object(g["b"])({default:function(){return[]}})],_.prototype,"usedColors",void 0),Object(m["a"])([Object(g["b"])({default:0})],_.prototype,"x",void 0),Object(m["a"])([Object(g["b"])({default:0})],_.prototype,"y",void 0),Object(m["a"])([Object(g["b"])({default:""})],_.prototype,"currentColor",void 0),_=Object(m["a"])([g["a"]],_);var A=_,T=A,x=(i("6e1e"),i("2877")),M=Object(x["a"])(T,k,O,!1,null,"179f269b",null),S=M.exports,z=function(t){Object(h["a"])(i,t);var e=Object(p["a"])(i);function i(){var t;return Object(u["a"])(this,i),t=e.apply(this,arguments),t.modalX=0,t.modalY=0,t.showModal=!1,t.select="",t}return Object(d["a"])(i,[{key:"open",value:function(t){t.target instanceof Element&&(this.clickable&&t.target.matches(".color-button")&&!this.showModal?(this.modalX=t.pageX,this.modalY=t.pageY,this.showModal=!0):this.clickable&&t.target.matches(".overlay")&&this.showModal&&this.hideModal(this.currentColor))}},{key:"hideModal",value:function(t){t&&(this.showModal=!1,this.select=t)}},{key:"changeColor",value:function(t){this.$emit("change-color",t)}}]),i}(g["c"]);Object(m["a"])([Object(g["b"])({default:""})],z.prototype,"currentColor",void 0),Object(m["a"])([Object(g["b"])({default:""})],z.prototype,"clickable",void 0),Object(m["a"])([Object(g["b"])({default:function(){return[]}})],z.prototype,"usedColors",void 0),z=Object(m["a"])([Object(g["a"])({components:{"color-box":S}})],z);var B=z,N=B,R=(i("4f0e"),Object(x["a"])(N,y,C,!1,null,"2e8f28c0",null)),E=R.exports,W=(i("e9c4"),i("25f0"),function(){function t(){Object(u["a"])(this,t),localStorage.getItem("game")||(this.data={name:"",color:""},localStorage.setItem("game",JSON.stringify(this.data))),this.data=JSON.parse(localStorage.getItem("game"))}return Object(d["a"])(t,[{key:"saveData",value:function(){localStorage.setItem("game",JSON.stringify(this.data))}},{key:"console",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){console.log(this.data)}))}]),t}()),P=W,U=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"btn",domProps:{innerHTML:t._s(t.title)},on:{click:function(e){t.method(),t.playButtonSound()}}})},L=[],$=function(t){var e=new Audio;e.src="assets/game/sounds/".concat(t,".mp3"),e.volume=.2,e.addEventListener("loadeddata",(function(){return e.play()}))},I=$,D=function(t){Object(h["a"])(i,t);var e=Object(p["a"])(i);function i(){var t;return Object(u["a"])(this,i),t=e.apply(this,arguments),t.playButtonSound=function(){I("button")},t}return Object(d["a"])(i)}(g["c"]);Object(m["a"])([Object(g["b"])({default:""})],D.prototype,"title",void 0),Object(m["a"])([Object(g["b"])({default:""})],D.prototype,"method",void 0),D=Object(m["a"])([Object(g["a"])({components:{}})],D);var K=D,F=K,H=(i("c23f"),Object(x["a"])(F,U,L,!1,null,"70df6882",null)),V=H.exports,Z=new P,G=function(t){Object(h["a"])(i,t);var e=Object(p["a"])(i);function i(){var t;return Object(u["a"])(this,i),t=e.apply(this,arguments),t.loginTitle="Введите своё имя",t.namePlaceholder="Введите своё имя",t.displayResult=!1,t.userName="",t.userReady=!1,t.currentName=Z.data.name,t.playSound=I,t}return Object(d["a"])(i,[{key:"checkResultLength",get:function(){return this.getResult.length>0}},{key:"arrayNames",get:function(){return this.users.map((function(t){return t.name}))}},{key:"usedColors",get:function(){return this.users.map((function(t){return t.color}))}},{key:"currentColor",get:function(){var t,e=this,i=null===(t=this.users.find((function(t){return t.name===e.currentName})))||void 0===t?void 0:t.color;return i||(i=""),i}},{key:"mounted",value:function(){var t,e=this;this.currentName&&(this.userName=this.currentName,this.userReady=(null===(t=this.users.find((function(t){return t.name===e.userName})))||void 0===t?void 0:t.ready)||!1)}},{key:"addNewUser",value:function(){this.userName=this.userName.trim(),""===this.userName||this.arrayNames.includes(this.userName)||(this.currentName=this.userName,Z.data.name=this.currentName,Z.saveData(),this.$emit("add-new-user",this.currentName,this.usedColors))}},{key:"toggleStatus",value:function(){this.userReady=!this.userReady,this.$emit("toggle-status",this.currentName)}},{key:"setNewColor",value:function(t){Z.data.color=t,Z.saveData(),this.$emit("set-new-color",this.currentName,t)}},{key:"quitLobby",value:function(){this.$socket.emit("deleteUser",this.userName)}},{key:"clearInput",value:function(){this.userName="",Z.data.name=this.userName,Z.saveData()}},{key:"playBtnSound",value:function(){this.playSound("button")}}]),i}(g["c"]);Object(m["a"])([Object(g["b"])({default:[]})],G.prototype,"users",void 0),G=Object(m["a"])([Object(g["a"])({computed:Object(l["a"])({},Object(f["b"])(["getUsers","getCurrentName","getResult"])),components:{"color-button":E,Btn:V}})],G);var q=G,J=q,X=(i("fbbe"),Object(x["a"])(J,v,b,!1,null,"0f4c6d2e",null)),Y=X.exports,Q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"game-field"},[i("div",{staticClass:"background"}),t.checkActive?i("p",{staticClass:"attention",class:{lastTurn:t.checkLastTurn}},[t._v("Ваш "+t._s(t.checkLastTurn?"последний ":"")+"ход")]):t._e(),i("svg",{staticClass:"game-field__img",attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",id:"svg5",version:"1.1",viewBox:"0 0 2048 1380"},on:{click:t.pickWay}},[i("image",{attrs:{"xlink:href":"assets/map/gamefield.jpg",id:"image17"}}),t._l(t.getRailways,(function(e){return i("Railway",{key:e.id,class:[e.status?"route_builded":"route_available"],style:{fill:e.status?t.getUsers.find((function(t){return t.name===e.status})).color:""},attrs:{railway:e,"data-path":e.id,users:t.getUsers,isUserActive:t.checkActive}})})),t._l(t.citiesInfo,(function(e){return i("City",{key:e.id,staticClass:"city-point",attrs:{city:e,show:t.visibleCities.includes(e.name)}})}))],2),t.showBuildWayModal?i("modal-window",{on:{"close-modalWindow":function(e){t.showBuildWayModal=!1}}},[i("build-way",{attrs:{"chosen-color":t.chosenColorForMulti,path:t.path},on:{"close-modal":function(e){t.showBuildWayModal=!1}}})],1):t._e(),t.showChooseColorForMulti?i("modal-window",{on:{"close-modalWindow":function(e){t.showChooseColorForMulti=!1}}},[i("choose-color-for-multi",{attrs:{path:t.path},on:{"close-modal":function(e){t.showChooseColorForMulti=!1},"build-multi-way":t.buildMultiWay}})],1):t._e()],1)},tt=[],et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("g",{staticClass:"route",class:{hovered:t.isHover&&t.isUserActive},style:{"--user-color":t.userColor},attrs:{transform:t.transform},on:{mouseover:function(e){t.isHover=!0},mouseleave:function(e){t.isHover=!1}}},t._l(t.railway.train,(function(t){return i("Train",{key:t.x,attrs:{train:t}})})),1)},it=[],at=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("use",{attrs:{"xlink:href":"assets/map/train.svg#train",x:t.train.x,y:t.train.y,transform:t.train.transform}})},st=[],rt=function(t){Object(h["a"])(i,t);var e=Object(p["a"])(i);function i(){return Object(u["a"])(this,i),e.apply(this,arguments)}return Object(d["a"])(i)}(g["c"]);Object(m["a"])([Object(g["b"])({default:[]})],rt.prototype,"train",void 0),rt=Object(m["a"])([Object(g["a"])({})],rt);var nt=rt,ot=nt,ct=Object(x["a"])(ot,at,st,!1,null,null,null),lt=ct.exports,ut=new P,dt=function(t){Object(h["a"])(i,t);var e=Object(p["a"])(i);function i(){var t;return Object(u["a"])(this,i),t=e.apply(this,arguments),t.transform=t.railway.transform,t.isHover=!1,t}return Object(d["a"])(i,[{key:"userColor",get:function(){var t,e=null===(t=this.users.find((function(t){return t.name===ut.data.name})))||void 0===t?void 0:t.color;return e||(e=""),e}}]),i}(g["c"]);Object(m["a"])([Object(g["b"])({default:[]})],dt.prototype,"railway",void 0),Object(m["a"])([Object(g["b"])({default:[]})],dt.prototype,"users",void 0),Object(m["a"])([Object(g["b"])({default:[]})],dt.prototype,"isUserActive",void 0),dt=Object(m["a"])([Object(g["a"])({components:{Train:lt},computed:{cssVars:function(){return{}}}})],dt);var ht=dt,pt=ht,mt=(i("7d8e"),Object(x["a"])(pt,et,it,!1,null,"86e5d086",null)),gt=mt.exports,ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("use",{staticClass:"city-point",class:{show:t.show},staticStyle:{transform:"translate(-594px, -370px)"},attrs:{"xlink:href":"assets/map/city-marker.svg#point",x:t.city.x,y:t.city.y,fill:"white"}})},vt=[],bt=function(t){Object(h["a"])(i,t);var e=Object(p["a"])(i);function i(){return Object(u["a"])(this,i),e.apply(this,arguments)}return Object(d["a"])(i)}(g["c"]);Object(m["a"])([Object(g["b"])({default:[]})],bt.prototype,"city",void 0),Object(m["a"])([Object(g["b"])({default:[]})],bt.prototype,"show",void 0),bt=Object(m["a"])([Object(g["a"])({})],bt);var yt=bt,Ct=yt,kt=(i("bf85"),Object(x["a"])(Ct,ft,vt,!1,null,"0ee08c9b",null)),Ot=kt.exports,jt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"modal",appear:"appear"}},[t.show?i("div",{staticClass:"modal-overlay",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.timer||t.closeModal()}}},[i("div",{staticClass:"modal"},[t.timer?i("div",{staticClass:"modal-timer",style:{width:t.timerWidth+"%",backgroundColor:"hsl("+(110-t.timerWidth)+", 82%, 39%)"}}):t._e(),t._t("default",(function(){return[t._v("Default content")]}))],2)]):t._e()])},wt=[],_t=function(t){Object(h["a"])(i,t);var e=Object(p["a"])(i);function i(){var t;return Object(u["a"])(this,i),t=e.apply(this,arguments),t.currentTimer=0,t.show=!0,t}return Object(d["a"])(i,[{key:"mounted",value:function(){var t=this;if(this.timer&&(this.currentTimer=this.timer),this.currentTimer>0)var e=setInterval((function(){t.currentTimer-=.1,t.currentTimer<=0&&(clearInterval(e),t.closeModal())}),100)}},{key:"onTimerChange",value:function(){this.currentTimer=this.timer}},{key:"timerWidth",get:function(){var t=this.timer/100;return(this.timer-this.currentTimer)/t}},{key:"closeModal",value:function(){this.$emit("close-modalWindow")}}]),i}(g["c"]);Object(m["a"])([Object(g["b"])({default:0})],_t.prototype,"timer",void 0),Object(m["a"])([Object(g["d"])("timer")],_t.prototype,"onTimerChange",null),_t=Object(m["a"])([Object(g["a"])({components:{}})],_t);var At=_t,Tt=At,xt=(i("8966"),Object(x["a"])(Tt,jt,wt,!1,null,"2ef6ca06",null)),Mt=xt.exports,St=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[i("h3",[t._v("Постройка маршрута")]),i("p",[t._v(t._s(t.message))]),t.message!==t.notEnoughMessage?i("Btn",{class:["btn-accept"],attrs:{title:"Построить",method:t.acceptBuild}}):t._e(),i("Btn",{class:["btn-decline"],attrs:{method:t.declineBuild,title:"Отмена"}})],1)},zt=[],Bt=(i("99af"),function(t){Object(h["a"])(i,t);var e=Object(p["a"])(i);function i(){var t;return Object(u["a"])(this,i),t=e.apply(this,arguments),t.message="",t.notEnoughMessage="У вас не хватает вагонов для постройки маршрута",t.playerHas=0,t.playerLoco=0,t}return Object(d["a"])(i,[{key:"currentWay",get:function(){var t=this;return this.getRailwaysInfo.filter((function(e){return e.id===t.path}))[0]}},{key:"trainColor",get:function(){return this.currentWay.color}},{key:"trainsAmount",get:function(){return this.currentWay.trainsAmount}},{key:"cities",get:function(){return this.currentWay.cities}},{key:"currentUser",get:function(){var t=this;return this.getUsers.filter((function(e){return e.name===t.getCurrentName}))[0]}},{key:"mounted",value:function(){"multi"!==this.trainColor?(this.playerHas=this.currentUser.hand.cards[this.trainColor],this.playerLoco=this.currentUser.hand.cards.loco,this.currentUser.hand.trains<this.trainsAmount?this.message=this.notEnoughMessage:this.playerHas>=this.trainsAmount?(this.message="У вас ".concat(this.playerHas," вагонов нужного цвета. Построить путь, потратив ").concat(this.trainsAmount,"?"),this.cardsToPay={color:this.trainColor,value:this.trainsAmount,loco:0}):this.playerHas+this.playerLoco>=this.trainsAmount?(this.cardsToPay={color:this.trainColor,value:this.playerHas,loco:this.trainsAmount-this.playerHas},this.message="У вас ".concat(this.playerHas," вагонов нужного цвета. Построить путь, потратив их и ").concat(this.cardsToPay.loco," локомотив?")):this.message=this.notEnoughMessage):(this.playerHas=this.currentUser.hand.cards[this.chosenColor],this.playerLoco=this.currentUser.hand.cards.loco,this.currentUser.hand.trains<this.trainsAmount?this.message=this.notEnoughMessage:this.playerHas>=this.trainsAmount&&"loco"!==this.chosenColor?(this.message="У вас ".concat(this.playerHas," вагонов нужного цвета. Построить путь, потратив ").concat(this.trainsAmount,"?"),this.cardsToPay={color:this.chosenColor,value:this.trainsAmount,loco:0}):this.playerHas+this.playerLoco>=this.trainsAmount&&"loco"!==this.chosenColor?(this.cardsToPay={color:this.chosenColor,value:this.playerHas,loco:this.trainsAmount-this.playerHas},this.message="У вас ".concat(this.playerHas," вагонов нужного цвета. Построить путь, потратив их и ").concat(this.cardsToPay.loco," локомотив?")):(this.cardsToPay={color:this.chosenColor,value:0,loco:this.trainsAmount},this.message="Построить маршрут потратив ".concat(this.cardsToPay.loco," локомотивов?")))}},{key:"declineBuild",value:function(){this.$emit("close-modal")}},{key:"acceptBuild",value:function(){this.$socket.emit("buildWay",this.getCurrentName,this.path,this.cardsToPay,this.currentWay.points,this.cities),this.$socket.emit("endOfTurn"),this.$emit("close-modal")}}]),i}(g["c"]));Object(m["a"])([Object(g["b"])({default:0})],Bt.prototype,"path",void 0),Object(m["a"])([Object(g["b"])({default:""})],Bt.prototype,"chosenColor",void 0),Bt=Object(m["a"])([Object(g["a"])({computed:Object(l["a"])({},Object(f["b"])(["getRailways","getUsers","getRailwaysInfo","getUsers","getTurn","getTurnWeight","getCurrentName","getCurrentTasks"])),components:{Btn:V}})],Bt);var Nt=Bt,Rt=Nt,Et=(i("c733"),Object(x["a"])(Rt,St,zt,!1,null,"1fa269a9",null)),Wt=Et.exports,Pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[i("h3",[t._v(" "+t._s(t.possibleCards.length>0?t.heading.build:t.heading.fail))]),i("ul",{staticClass:"card-list"},t._l(t.possibleCards,(function(e){return i("li",{key:e,staticClass:"card",on:{click:function(i){return t.chooseColor(e)}}},[i("div",{staticClass:"card-background",style:{background:"center / contain no-repeat url(./assets/game/wagon_cards/"+e+".png)"}})])})),0)])},Ut=[],Lt=i("3835"),$t=(i("4fad"),function(t){Object(h["a"])(i,t);var e=Object(p["a"])(i);function i(){var t;return Object(u["a"])(this,i),t=e.apply(this,arguments),t.heading={build:"Выбор цвета для постройки маршрута",fail:"Не хватает карт для постройки"},t}return Object(d["a"])(i,[{key:"currentWay",get:function(){var t=this;return this.getRailwaysInfo.filter((function(e){return e.id===t.path}))[0]}},{key:"trainsAmount",get:function(){return this.currentWay.trainsAmount}},{key:"currentUser",get:function(){var t=this;return this.getUsers.filter((function(e){return e.name===t.getCurrentName}))[0]}},{key:"possibleCards",get:function(){var t=this,e=Object.entries(this.currentUser.hand.cards).map((function(e){var i=Object(Lt["a"])(e,2),a=i[0],s=i[1];return"loco"!==a&&0!==s&&(s>=t.trainsAmount||t.currentUser.hand.cards.loco+s>=t.trainsAmount)||s>=t.trainsAmount?a:""})).filter((function(t){return t.length>0}));return e}},{key:"chooseColor",value:function(t){this.$emit("close-modal"),this.$emit("build-multi-way",t)}}]),i}(g["c"]));Object(m["a"])([Object(g["b"])({default:0})],$t.prototype,"path",void 0),$t=Object(m["a"])([Object(g["a"])({computed:Object(l["a"])({},Object(f["b"])(["getRailways","getUsers","getRailwaysInfo","getUsers","getTurn","getTurnWeight","getCurrentName"])),components:{Btn:V}})],$t);var It=$t,Dt=It,Kt=(i("cf7c"),Object(x["a"])(Dt,Pt,Ut,!1,null,"e08d2954",null)),Ft=Kt.exports,Ht=[{id:1,name:"Amsterdam",x:"590.786",y:"369.041"},{id:2,name:"Angora",x:"1745.149",y:"1219.149"},{id:3,name:"Athina",x:"1323.149",y:"1217.649"},{id:4,name:"Barcelona",x:"366.15",y:"1144.149"},{id:5,name:"Berlin",x:"962.15",y:"418.15"},{id:6,name:"Brest",x:"188.15",y:"608.149"},{id:7,name:"Brindisi",x:"1072.149",y:"1060.149"},{id:8,name:"Bruxelles",x:"545.089",y:"467.089"},{id:9,name:"Bucuresti",x:"1485.128",y:"852.31"},{id:10,name:"Budapest",x:"1178.149",y:"710.149"},{id:11,name:"Cadiz",x:"137.384",y:"1274.673"},{id:12,name:"Constantinople",x:"1587.92",y:"1108.501"},{id:13,name:"Danzig",x:"1194.057",y:"260.019"},{id:14,name:"Dieppe",x:"372.05",y:"547.412"},{id:15,name:"Edinburgh",x:"259.15",y:"54.649"},{id:16,name:"Erzurum",x:"1909.149",y:"1172.149"},{id:17,name:"Essen",x:"758.149",y:"389.15"},{id:18,name:"Frankfurt",x:"728.149",y:"534.149"},{id:19,name:"Kharkov",x:"1876.149",y:"621.149"},{id:20,name:"Kobenhavn",x:"905.149",y:"173.15"},{id:21,name:"Kyiv",x:"1602.149",y:"512.149"},{id:22,name:"Lisboa",x:"2.15",y:"1170.149"},{id:23,name:"London",x:"393.15",y:"365.15"},{id:24,name:"Madrid",x:"141.15",y:"1123.149"},{id:25,name:"Marseille",x:"652.15",y:"947.149"},{id:26,name:"Moskva",x:"1907.149",y:"310.15"},{id:27,name:"Munchen",x:"846.149",y:"624.149"},{id:28,name:"Palermo",x:"909.149",y:"1225.149"},{id:29,name:"Pamplona",x:"342.15",y:"957.149"},{id:30,name:"Paris",x:"471.15",y:"640.149"},{id:31,name:"Petrograd",x:"1707.774",y:"63.287"},{id:32,name:"Riga",x:"1361.292",y:"74.358"},{id:33,name:"Roma",x:"897.43",y:"1007.739"},{id:34,name:"Rostov",x:"1959.504",y:"729.967"},{id:35,name:"Sarajevo",x:"1225.527",y:"966.141"},{id:36,name:"Sevastopol",x:"1767.171",y:"883.288"},{id:37,name:"Smolensk",x:"1730.402",y:"361.443"},{id:38,name:"Smyrna",x:"1499.885",y:"1272.197"},{id:39,name:"Sochi",x:"1949.019",y:"915.229"},{id:40,name:"Sofia",x:"1361.292",y:"983.697"},{id:41,name:"Stockholm",x:"1116.633",y:"13.546"},{id:42,name:"Venezia",x:"881.874",y:"821.891"},{id:43,name:"Warszawa",x:"1294.824",y:"401.284"},{id:44,name:"Wien",x:"1078.449",y:"658.428"},{id:45,name:"Wilno",x:"1522.755",y:"350.958"},{id:46,name:"Zagrab",x:"1053.701",y:"847.225"},{id:47,name:"Zurich",x:"708.632",y:"754.594"}],Vt=Ht,Zt=function(t){Object(h["a"])(i,t);var e=Object(p["a"])(i);function i(){var t;return Object(u["a"])(this,i),t=e.apply(this,arguments),t.showBuildWayModal=!1,t.showChooseColorForMulti=!1,t.chosenColorForMulti="loco",t.citiesInfo=Vt,t}return Object(d["a"])(i,[{key:"checkLastTurn",get:function(){return this.getTurnToEnd-this.getTurn<this.getUsers.length}},{key:"checkActive",get:function(){return-1!==this.getTurn&&this.getUsers[this.getTurn%this.getUsers.length].name===this.getCurrentName}},{key:"pickWay",value:function(t){var e=this;if(this.checkActive&&0===this.getTurnWeight&&t.target instanceof Element){var i=t.target.closest(".route");if(i)if(this.path=i.getAttribute("data-path")||"",this.path){var a=this.getRailwaysInfo.find((function(t){return t.id===e.path}));a?"multi"!==a.color?this.showBuildWayModal=!0:this.showChooseColorForMulti=!0:console.log("Error: cant find this route in base")}else console.log("Error: wrong path")}}},{key:"buildMultiWay",value:function(t){this.chosenColorForMulti=t,this.showBuildWayModal=!0}}]),i}(g["c"]);Object(m["a"])([Object(g["b"])({default:[]})],Zt.prototype,"visibleCities",void 0),Zt=Object(m["a"])([Object(g["a"])({computed:Object(l["a"])({},Object(f["b"])(["getRailways","getUsers","getRailwaysInfo","getUsers","getTurn","getTurnWeight","getTurnToEnd","getCurrentName","getCurrentTasks"])),components:{Railway:gt,City:Ot,ModalWindow:Mt,BuildWay:Wt,ChooseColorForMulti:Ft}})],Zt);var Gt=Zt,qt=Gt,Jt=(i("7e95"),Object(x["a"])(qt,Q,tt,!1,null,"e381ef5c",null)),Xt=Jt.exports,Yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[i("h3",[t._v("Подготовка к игре")]),i("p",[t._v("Вы можете сбросить маршруты, но должны оставить минимум "+t._s(t.checkPickRoute?1:2))]),i("ul",{staticClass:"route-list"},t._l(t.currentTasks,(function(e){return i("li",{key:e.id,staticClass:"route",style:{background:"center / contain no-repeat url(./assets/game/route_cards/"+(e.id+1)+".png)"},attrs:{"data-route":e.id},on:{click:function(i){return t.markToDiscard(i,e)}}})})),0),i("p",{staticClass:"attention"},[t._v("Примечание: за невыполненные карточки вы получите штраф.")]),i("Btn",{staticClass:"btn-accept btn-prepare",attrs:{title:"Применить",method:t.acceptDiscard}})],1)},Qt=[],te=(i("a434"),function(t){Object(h["a"])(i,t);var e=Object(p["a"])(i);function i(){var t;return Object(u["a"])(this,i),t=e.apply(this,arguments),t.currentTimer=t.timer||0,t.discard=[],t.prepareTimer=setInterval((function(){t.currentTimer-=.1,t.currentTimer<=.1&&t.acceptDiscard()}),100),t}return Object(d["a"])(i,[{key:"checkPickRoute",get:function(){return this.pickedRoutes.length>0}},{key:"currentUser",get:function(){var t=this;return this.getUsers.filter((function(e){return e.name===t.getCurrentName}))[0]}},{key:"currentTasks",get:function(){var t;return this.checkPickRoute?this.pickedRoutes:null===(t=this.currentUser)||void 0===t?void 0:t.hand.currentTasks}},{key:"cards",get:function(){return this.currentUser.hand.cards}},{key:"acceptDiscard",value:function(){this.prepareTimer&&clearInterval(this.prepareTimer),this.checkPickRoute?(this.$socket.emit("addShortRoute",this.getCurrentName,this.pickedRoutes),this.$emit("get-discarded",this.discard)):this.$emit("get-discarded",this.discard),this.$emit("close-modal")}},{key:"markToDiscard",value:function(t,e){if(t.target instanceof Element){var i,a,s=t.target,r=(null===(i=s.parentNode)||void 0===i?void 0:i.children.length)||0;if(a=r<=3?r-1:2,s.classList.contains("discard"))if(s.classList.remove("discard"),s.classList.contains("route__long")){var n=this.discard.indexOf(e);this.discard.splice(n,1)}else{var o=this.discard.indexOf(e);this.discard.splice(o,1)}else this.discard.length<a&&(s.classList.add("discard"),s.classList.contains("route__long"),this.discard.push(e))}}}]),i}(g["c"]));Object(m["a"])([Object(g["b"])({default:0})],te.prototype,"timer",void 0),Object(m["a"])([Object(g["b"])({default:Array})],te.prototype,"pickedRoutes",void 0),te=Object(m["a"])([Object(g["a"])({computed:Object(l["a"])({},Object(f["b"])(["getUsers","getCurrentName"])),components:{Btn:V}})],te);var ee=te,ie=ee,ae=(i("7e69"),Object(x["a"])(ie,Yt,Qt,!1,null,"227cd84c",null)),se=ae.exports,re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",{staticClass:"user-side"},[a("ul",{staticClass:"user-list"},t._l(t.getUsers,(function(e){return a("li",{key:e.name,staticClass:"user-item",class:{active:e===t.activePlayer},style:{border:"groove"+e.color}},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-avatar",style:{background:"center / contain no-repeat url("+t.avatars.filter((function(t){return t.color===e.color}))[0].avatar+")"+e.color,border:"groove"+e.color}},[a("div",{staticClass:"user-points",style:{border:"outset"+e.color}},[t._v(" "+t._s(e.points)+" ")])])]),a("div",{staticClass:"user-stat"},[a("h3",{staticClass:"user-name"},[t._v(t._s(e.name))]),a("div",{staticClass:"stat-block card-block"},[a("img",{staticClass:"card-shirt-icon",attrs:{src:i("8874"),alt:"карта вагона"}}),a("div",[t._v(t._s(Object.values(e.hand.cards).reduce((function(t,e){return t+e}),0)))])]),a("div",{staticClass:"stat-block route-block"},[a("img",{staticClass:"card-shirt-icon",attrs:{src:i("82dd"),alt:"карта маршрута"}}),a("div",[t._v(t._s(e.hand.currentTasks.length))])]),a("div",{staticClass:"stat-block train-block"},[a("WagonIcon",{staticClass:"card-shirt-icon",style:{"--user-color":e.color}}),a("div",[t._v(t._s(e.hand.trains))])],1)])])})),0)])},ne=[],oe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{staticStyle:{"enable-background":"new 0 0 449.441 449.441"},attrs:{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 449.441 449.441","xml:space":"preserve"}},[i("path",{attrs:{d:"M449.432,92.721c-0.154-1.233-0.907-2.336-2-2.967l-111.145-64.17c-1.237-0.714-2.761-0.715-3.998-0.001L2.002,216.039  C0.764,216.753,0,219.504,0,219.504v136.729c0,1.429,0.763,2.75,2,3.464l33.489,19.334l-6.215,3.553  c-6.022-7.621-14.582-10.777-20.819-7.176c-3.672,2.119-5.89,6.298-6.086,11.464c-0.173,4.561,1.196,9.609,3.855,14.214  c2.658,4.605,6.346,8.315,10.382,10.446c2.445,1.29,4.934,1.938,7.282,1.938c2.044,0,3.98-0.491,5.688-1.478  c3.671-2.119,5.89-6.297,6.085-11.463c0.135-3.545-0.672-7.382-2.282-11.078l10.13-5.79l69.624,40.195  c0.619,0.357,1.31,0.536,2,0.536c0.689,0,1.38-0.179,1.998-0.535l35.624-20.54c0.118,7.732,3.157,13.975,8.635,17.136  c2.452,1.416,5.166,2.09,8,2.09c9.178-0.001,19.601-7.065,26.394-18.822c2.77-4.796,4.589-9.853,5.411-14.71  c1.39,2.207,3.213,4.014,5.446,5.302c2.417,1.396,5.116,2.091,7.979,2.091c3.373,0,6.975-0.965,10.612-2.886  c6.125-3.233,11.737-8.898,15.802-15.948c1.874-3.244,3.302-6.607,4.294-9.947l95.601-55.194c0.924,0.912,1.944,1.718,3.082,2.375  c2.418,1.396,5.118,2.092,7.983,2.092c3.37,0,6.97-0.963,10.604-2.881c6.122-3.23,11.736-8.894,15.807-15.944  c2.765-4.786,4.582-9.852,5.404-14.722c1.391,2.218,3.22,4.028,5.453,5.315c2.417,1.396,5.116,2.091,7.98,2.091  c3.373,0,6.975-0.964,10.612-2.885c6.124-3.232,11.739-8.897,15.812-15.95c5.39-9.344,7.182-19.756,4.975-27.674l18.79-10.834  c1.238-0.714,2.002-2.035,2.002-3.465C449.432,229.946,449.452,92.884,449.432,92.721z M25.577,405.065  c-1.238,0.715-3.147,0.495-5.235-0.608c-2.682-1.415-5.302-4.103-7.189-7.371c-1.887-3.269-2.903-6.881-2.789-9.911  c0.09-2.359,0.852-4.123,2.092-4.839c0.484-0.279,1.065-0.416,1.714-0.416c3.055,0,7.613,3.03,10.711,8.396  c1.887,3.269,2.903,6.881,2.788,9.911C27.579,402.586,26.816,404.35,25.577,405.065z M441.432,110.179l-40.941,23.606v-10.038  l40.941-23.606V110.179z M342.921,284.436V176.213l49.569-28.581v108.223L342.921,284.436z M227.78,350.824V242.602l49.57-28.582  v108.223L227.78,350.824z M170.2,384.024V275.802l49.58-28.587v108.223L170.2,384.024z M119.134,413.469V305.246l43.066-24.832  v108.223L119.134,413.469z M8,236.467v-10.035l103.134,59.542v10.034L8,236.467z M219.78,227.943v10.037l-49.58,28.587V256.53  L219.78,227.943z M227.78,223.33l49.57-28.582v10.037l-49.57,28.582V223.33z M285.351,190.136l49.57-28.582v10.038l-49.57,28.582  V190.136z M338.868,150.044L235.727,90.499l49.277-28.415l103.143,59.547L338.868,150.044z M330.863,154.66l-49.567,28.579  l-103.139-59.543l49.565-28.581L330.863,154.66z M273.291,187.855l-50,28.829l-103.136-59.543l49.996-28.83L273.291,187.855z   M215.286,221.3l-49.445,28.509L62.708,190.268l49.443-28.511L215.286,221.3z M162.2,271.18l-43.066,24.832v-10.037l43.066-24.832  V271.18z M111.134,305.245v108.22l-16.237-9.374v-108.22L111.134,305.245z M285.351,209.407l49.57-28.582v108.223l-49.57,28.582  V209.407z M342.921,166.979v-10.037l49.569-28.581v10.038L342.921,166.979z M334.286,33.666l103.142,59.55l-41.277,23.8  L293.008,57.469L334.286,33.666z M54.703,194.884l103.133,59.541l-42.702,24.621l-103.131-59.54L54.703,194.884z M8,245.704  l14.244,8.223v108.22L8,353.924V245.704z M57.85,370.857c-1.096-1.916-3.54-2.584-5.458-1.487l-8.862,5.065l-13.285-7.67v-108.22  l56.652,32.706v108.22L51.55,379.066l4.812-2.75C58.28,375.22,58.946,372.775,57.85,370.857z M188.856,399.719  c-6.424,11.121-17.171,17.44-23.467,13.806c-3.82-2.205-5.421-8.006-4.258-15.037l32.312-18.631  C194.413,385.498,192.78,392.926,188.856,399.719z M234.105,373.571c-3.323,5.763-7.801,10.334-12.609,12.873  c-2.435,1.287-7.082,3.12-10.855,0.941c-3.806-2.198-5.412-7.977-4.274-14.98l32.345-18.65  C239.661,359.387,238.021,366.795,234.105,373.571z M245.936,349.591l89.454-51.578c0.077,2.755,0.538,5.309,1.34,7.604  l-89.788,51.838C246.977,354.663,246.649,352.008,245.936,349.591z M371.477,294.069c-3.327,5.763-7.807,10.334-12.612,12.87  c-2.435,1.284-7.082,3.112-10.854,0.937c-3.732-2.155-5.356-7.804-4.32-14.65l32.421-18.694  C376.958,280.142,375.309,287.436,371.477,294.069z M416.736,267.92c-3.328,5.764-7.809,10.336-12.618,12.875  c-2.436,1.286-7.087,3.119-10.859,0.938c-3.718-2.143-5.343-7.771-4.324-14.595l32.441-18.705  C422.203,254.032,420.552,261.306,416.736,267.92z M400.49,251.242V143.019l40.941-23.606v108.223L400.49,251.242z"}}),i("path",{staticClass:"pour",attrs:{d:"m 69.241279,388.9214 c -9.017964,-5.21987 -16.401861,-9.63337 -16.40866,-9.80777 -0.0068,-0.17441 1.25345,-1.08168 2.800552,-2.01616 2.575746,-1.55581 2.812913,-1.90818 2.812913,-4.17937 0,-1.85447 -0.350547,-2.72585 -1.38927,-3.4534 -2.11908,-1.48426 -3.508791,-1.20097 -8.724605,1.77849 l -4.800595,2.74227 -6.607331,-3.796 -6.60733,-3.79599 v -53.66251 -53.66251 l 1.719002,0.92903 c 0.945451,0.51097 13.533238,7.76882 27.972859,16.12855 l 26.253855,15.19951 0.159764,53.58524 c 0.08787,29.47189 -0.05278,53.56636 -0.312546,53.54327 -0.25977,-0.0231 -7.850644,-4.31278 -16.868608,-9.53265 z"}}),i("path",{staticClass:"pour",attrs:{d:"m 102.98388,408.38452 -7.657379,-4.41377 v -53.75424 -53.75423 l 1.406456,0.90291 c 0.773551,0.4966 4.289693,2.52767 7.813643,4.51348 l 6.4072,3.61057 v 53.69195 c 0,29.53057 -0.0703,53.67511 -0.15628,53.65452 -0.086,-0.0206 -3.60209,-2.02362 -7.81364,-4.45119 z"}}),i("path",{staticClass:"pour",attrs:{d:"m 119.85786,358.73111 0.15977,-53.51693 20.31548,-11.77861 c 11.17352,-6.47824 20.52802,-11.79056 20.78779,-11.80516 0.25977,-0.0146 0.40042,24.07552 0.31255,53.5336 l -0.15976,53.56016 -20.31549,11.74557 c -11.17351,6.46006 -20.52802,11.75293 -20.78779,11.76194 -0.25977,0.009 -0.40042,-24.06625 -0.31255,-53.50057 z"}}),i("path",{staticClass:"pour",attrs:{d:"m 170.33752,329.84294 v -53.67618 l 24.22231,-13.9367 c 13.32226,-7.66519 24.43327,-14.0533 24.69112,-14.19582 0.25785,-0.14252 0.46742,23.87821 0.46571,53.37939 l -0.003,53.63852 -21.67614,12.50183 c -11.92188,6.87601 -23.03149,13.28108 -24.68802,14.23349 l -3.01188,1.73165 z"}}),i("path",{staticClass:"pour",attrs:{d:"m 227.84596,296.70028 v -53.68896 l 24.22231,-13.93387 c 13.32227,-7.66363 24.43328,-14.04599 24.69113,-14.18303 0.25785,-0.13704 0.46565,23.88817 0.46179,53.38935 l -0.007,53.63851 -21.68603,12.50184 c -11.92731,6.87601 -23.03516,13.28107 -24.68409,14.23348 l -2.99808,1.73165 z"}}),i("path",{staticClass:"pour",attrs:{d:"m 285.35441,263.50978 v -53.65975 l 23.28467,-13.41324 c 12.80657,-7.37728 23.91758,-13.74587 24.69113,-14.15242 l 1.40645,-0.73919 -0.007,53.62362 -0.007,53.62362 -6.71264,3.8347 c -3.69195,2.10908 -14.79976,8.49394 -24.68402,14.18856 l -17.97139,10.35386 z"}}),i("path",{staticClass:"pour",attrs:{d:"m 343.4982,229.92525 0.0102,-53.64936 23.85912,-13.75202 c 13.12252,-7.56361 24.08827,-13.84578 24.36833,-13.96038 0.28007,-0.1146 0.50405,23.9358 0.49774,53.44535 l -0.0115,53.65371 -20.11449,11.5642 c -11.06296,6.36031 -22.02817,12.64052 -24.36711,13.95603 l -4.25263,2.39183 z"}}),i("path",{staticClass:"pour",attrs:{d:"m 400.99995,196.80465 0.004,-53.65863 17.03019,-9.80232 c 9.36661,-5.39128 18.36633,-10.5489 19.99938,-11.46137 l 2.96919,-1.65904 -0.009,53.65506 -0.009,53.65507 -16.3197,9.37638 c -8.97584,5.157 -17.97293,10.31622 -19.99353,11.46493 l -3.67384,2.08855 z"}}),i("path",{staticClass:"pour",attrs:{d:"m 401.01272,128.35218 0.0163,-4.584 16.3511,-9.37638 c 8.9931,-5.15701 17.98708,-10.30686 19.98661,-11.44412 l 3.63552,-2.06775 -0.002,4.56811 -0.002,4.56812 -19.49225,11.25165 c -10.72074,6.18841 -19.72107,11.34542 -20.00073,11.46002 -0.27966,0.1146 -0.50113,-1.85444 -0.49215,-4.37565 z"}}),i("path",{staticClass:"pour",attrs:{d:"M 345.31317,87.296788 C 317.6097,71.257001 294.87003,57.878548 294.78058,57.566894 c -0.17657,-0.615181 39.28072,-23.596705 39.89488,-23.236391 0.20556,0.1206 23.15835,13.365773 51.00619,29.433718 27.84784,16.067945 50.70434,29.275473 50.79222,29.350062 0.19438,0.164966 -40.22088,23.490067 -40.55464,23.405547 -0.12986,-0.0329 -22.90259,-13.18325 -50.60606,-29.223042 z"}}),i("path",{staticClass:"pour",attrs:{d:"m 289.10496,120.85052 c -27.33214,-15.79761 -50.36167,-29.083671 -51.17674,-29.524583 -1.39847,-0.756511 -0.12032,-1.586488 22.69496,-14.737152 20.945,-12.072639 24.36018,-13.849506 25.54797,-13.292247 3.41134,1.60044 100.15609,57.753322 100.3194,58.227692 0.12796,0.3717 -40.66633,24.38257 -47.37824,27.88608 -0.1719,0.0897 -22.67521,-12.76217 -50.00735,-28.55979 z"}}),i("path",{staticClass:"pour",attrs:{d:"m 343.5126,161.48205 0.0247,-4.58401 20.70594,-11.87674 c 11.38826,-6.53221 22.34753,-12.80723 24.35392,-13.94449 l 3.64799,-2.06775 -0.008,4.56812 -0.008,4.56811 -23.83982,13.75202 c -13.11191,7.56361 -24.07876,13.84578 -24.37078,13.96038 -0.29203,0.1146 -0.51987,-1.85444 -0.50631,-4.37564 z"}}),i("path",{staticClass:"pour",attrs:{d:"m 285.35441,195.15656 v -4.58555 l 22.65958,-13.05012 c 12.46277,-7.17756 23.57377,-13.58627 24.69112,-14.24158 l 2.03155,-1.19147 v 4.6014 4.6014 l -21.686,12.49409 c -11.9273,6.87175 -23.03831,13.27334 -24.69113,14.22574 l -3.00512,1.73165 z"}}),i("path",{staticClass:"pour",attrs:{d:"m 230.32305,153.365 c -28.00694,-16.16828 -51.00248,-29.47576 -51.10122,-29.57218 -0.4174,-0.40762 48.08605,-27.91349 48.89896,-27.73016 1.18317,0.266831 101.60496,58.24417 101.58266,58.64756 -0.0138,0.2505 -28.11394,16.54646 -44.93481,26.05884 l -3.5239,1.9928 z"}}),i("path",{staticClass:"pour",attrs:{d:"m 172.05712,186.7256 c -27.76156,-16.06136 -50.47584,-29.37167 -50.47617,-29.57848 -0.001,-0.67645 48.13465,-28.15793 48.96132,-27.95282 1.14352,0.28371 101.63831,58.26737 101.64237,58.64579 0.005,0.4539 -47.32452,27.59446 -48.58819,27.86241 -0.58507,0.12406 -23.77777,-12.91554 -51.53933,-28.9769 z"}}),i("path",{staticClass:"pour",attrs:{d:"m 227.84596,228.35785 v -4.63263 l 23.23343,-13.41065 c 12.77838,-7.37586 23.88938,-13.77125 24.69112,-14.21198 l 1.45771,-0.80133 v 4.56884 4.56883 l -23.28467,13.38381 c -12.80657,7.3611 -23.91758,13.7852 -24.69113,14.27578 l -1.40646,0.89196 z"}}),i("path",{staticClass:"pour",attrs:{d:"m 170.33752,261.46389 v -4.58507 l 23.28467,-13.38381 c 12.80657,-7.3611 23.91757,-13.78519 24.69112,-14.27577 l 1.40646,-0.89197 v 4.63143 4.63143 l -21.06236,12.16167 c -11.58429,6.68892 -22.6953,13.09215 -24.69112,14.22941 l -3.62877,2.06775 z"}}),i("path",{staticClass:"pour",attrs:{d:"M 114.55733,219.84766 C 86.800532,203.7906 64.086258,190.4859 64.081167,190.28167 c -0.0051,-0.20423 10.814764,-6.60785 24.044123,-14.23028 l 24.05338,-13.85895 50.17628,28.96798 c 27.59694,15.93239 50.6435,29.22765 51.21457,29.54503 0.81128,0.45087 -4.14589,3.5633 -22.67107,14.23432 -13.04015,7.5115 -24.19647,13.75746 -24.79179,13.87992 -0.59533,0.12245 -23.79248,-12.91493 -51.54933,-28.97203 z"}}),i("path",{staticClass:"pour",attrs:{d:"M 64.384456,249.39023 C 36.880417,233.46436 14.02892,220.20305 13.603352,219.92066 c -0.505929,-0.33571 6.477337,-4.68238 20.174631,-12.5575 l 20.94839,-12.04406 51.085837,29.47961 c 28.09721,16.21379 51.13143,29.50977 51.18715,29.54663 0.25105,0.16606 -41.67448,24.1257 -42.11346,24.06704 -0.27175,-0.0363 -22.997404,-13.09629 -50.501444,-29.02215 z"}}),i("path",{staticClass:"pour",attrs:{d:"m 119.70508,290.68861 v -4.58669 l 20.68466,-11.93795 c 11.37656,-6.56588 20.81214,-11.93796 20.96796,-11.93796 0.15582,0 0.20066,2.0383 0.0996,4.52955 l -0.18365,4.52954 -8.75129,5.04338 c -4.81321,2.77385 -14.16614,8.17165 -20.7843,11.9951 l -12.03302,6.95172 z"}}),i("path",{staticClass:"pour",attrs:{d:"M 59.696268,265.87437 C 31.676527,249.69762 8.6679555,236.38573 8.566108,236.2924 c -0.1018476,-0.0933 -0.1018476,-2.15702 0,-4.58599 l 0.1851773,-4.4163 50.9449827,29.41227 c 28.01974,16.17675 51.028312,29.48864 51.130162,29.58197 0.10184,0.0933 0.10184,2.15702 0,4.58599 l -0.18518,4.4163 z"}}),i("path",{staticClass:"pour",attrs:{d:"m 15.165758,357.67436 -6.7124546,-3.8724 -0.00728,-53.63851 c -0.004,-29.50118 0.2036866,-53.52845 0.461537,-53.39393 0.2578503,0.13452 3.3520546,1.89275 6.8760096,3.90718 l 6.407191,3.6626 v 53.63815 c 0,29.50099 -0.07032,53.62267 -0.156273,53.60374 -0.08595,-0.0189 -3.176878,-1.77701 -6.868728,-3.90683 z"}}),i("path",{staticClass:"pour",attrs:{d:"m 166.58697,413.68187 c -2.00584,-0.73325 -3.81275,-3.05653 -4.69948,-6.04249 -1.02171,-3.44045 -1.19146,-7.13237 -0.38633,-8.40202 0.28649,-0.45177 7.52543,-4.86816 16.08655,-9.8142 l 15.56566,-8.9928 0.19224,2.47003 c 0.48841,6.27512 -3.9987,16.83878 -9.87798,23.25497 -5.56793,6.07642 -12.45156,9.14559 -16.88066,7.52651 z"}}),i("path",{staticClass:"pour",attrs:{d:"m 210.96848,387.07676 c -2.53446,-1.25573 -4.37932,-5.67806 -4.3532,-10.43512 l 0.0224,-4.08692 15.31497,-8.75129 c 8.42323,-4.81321 15.62953,-8.85954 16.014,-8.99185 1.14065,-0.39253 0.17332,8.50684 -1.37171,12.61968 -0.74956,1.9953 -2.77732,5.74266 -4.50614,8.32746 -6.19434,9.2613 -15.35908,14.17254 -21.12035,11.31804 z"}}),i("path",{staticClass:"pour",attrs:{d:"m 348.12611,307.30409 c -2.23228,-1.36125 -3.73278,-4.21031 -4.31741,-8.19766 -0.74187,-5.05975 -0.57019,-5.21818 15.95872,-14.72565 8.33342,-4.79341 15.39325,-8.80906 15.68849,-8.92366 0.87311,-0.3389 0.61354,4.73122 -0.45407,8.86942 -2.35027,9.10987 -9.52073,18.68889 -16.66041,22.25663 -4.3714,2.18441 -7.45813,2.40225 -10.21532,0.72092 z"}}),i("path",{staticClass:"pour",attrs:{d:"m 393.40078,281.27868 c -2.46368,-1.33827 -4.28113,-5.60366 -4.28113,-10.04744 v -3.72699 l 15.78357,-9.13954 15.78357,-9.13954 0.19018,3.09834 c 0.40326,6.56953 -4.07683,16.54741 -10.26401,22.85959 -5.99833,6.11953 -12.75987,8.51408 -17.21218,6.09558 z"}})])},ce=[],le=function(t){Object(h["a"])(i,t);var e=Object(p["a"])(i);function i(){return Object(u["a"])(this,i),e.apply(this,arguments)}return Object(d["a"])(i)}(g["c"]);le=Object(m["a"])([Object(g["a"])({})],le);var ue=le,de=ue,he=(i("5cd8"),Object(x["a"])(de,oe,ce,!1,null,"d69b6840",null)),pe=he.exports,me=function(t){Object(h["a"])(i,t);var e=Object(p["a"])(i);function i(){var t;return Object(u["a"])(this,i),t=e.apply(this,arguments),t.avatars=w,t}return Object(d["a"])(i,[{key:"activePlayer",get:function(){return this.getUsers[this.getTurn%this.getUsers.length]}}]),i}(g["c"]);Object(m["a"])([Object(g["b"])({default:0})],me.prototype,"timer",void 0),me=Object(m["a"])([Object(g["a"])({computed:Object(l["a"])({},Object(f["b"])(["getUsers","getTurn"])),components:{WagonIcon:pe}})],me);var ge=me,fe=ge,ve=(i("0bb0"),Object(x["a"])(fe,re,ne,!1,null,"66461f1d",null)),be=ve.exports,ye=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("aside",{staticClass:"deck-side"},[i("div",{staticClass:"deck-route"},[i("h4",{staticClass:"deck-title"},[t._v("Колода маршрутов")]),i("div",{staticClass:"deck",class:{active:t.checkActive}},[i("div",{staticClass:"deck-back"}),t.checkActive&&t.getRouteDeck.length&&0===t.getTurnWeight?i("div",{staticClass:"deck-action",on:{click:t.pickRoute}}):t._e()]),i("div",{staticClass:"deck-length"},[i("div",{staticClass:"left-of",style:{height:Math.floor(t.getRouteDeck.length/40*100)+"%"}})])]),i("ul",{staticClass:"table-card"},t._l(t.getCardTable,(function(e,a){return i("li",{key:a,staticClass:"deck",class:{active:t.checkActive},style:{background:"center / contain no-repeat url(./assets/game/wagon_cards/"+e+".png)"},attrs:{"data-color":e,"data-index":a}},[i("div",{staticClass:"deck-back"}),t.checkActive&&("loco"!==e||"loco"===e&&0===t.getTurnWeight)?i("div",{staticClass:"deck-action",on:{click:t.pickCardTable}}):t._e()])})),0),i("div",{staticClass:"deck-card"},[i("h4",{staticClass:"deck-title"},[t._v("Колода вагонов")]),i("div",{staticClass:"deck",class:{active:t.checkActive}},[i("div",{staticClass:"deck-back"}),t.checkActive&&t.getCardDeck.length>0&&t.getTurnWeight<2?i("div",{staticClass:"deck-action",on:{click:t.pickCardDeck}}):t._e()]),i("div",{staticClass:"deck-length"},[i("div",{staticClass:"left-of",style:{height:Math.floor(t.getCardDeck.length/110*100)+"%"}})])]),t.showRoutesModal?i("modal-window",{attrs:{timer:t.modalTimer}},[i("Prepare",{attrs:{"picked-routes":t.routesToChoose,timer:t.modalTimer},on:{"get-discarded":t.discardRoute,"close-modal":function(e){t.showRoutesModal=!1}}})],1):t._e()],1)},Ce=[],ke=i("2909"),Oe=(i("a9e3"),function(t){Object(h["a"])(i,t);var e=Object(p["a"])(i);function i(){var t;return Object(u["a"])(this,i),t=e.apply(this,arguments),t.showRoutesModal=!1,t.modalTimer=100,t.routesToChoose=[],t.timerForWait=200,t.userReady=!0,t}return Object(d["a"])(i,[{key:"setTimerForUser",value:function(){var t=this;this.userReady=!1,setTimeout((function(){t.userReady=!0}),this.timerForWait)}},{key:"checkActive",get:function(){return-1!==this.getTurn&&(this.getUsers[this.getTurn%this.getUsers.length].name===this.getCurrentName&&this.userReady)}},{key:"pickRoute",value:function(){var t;(I("takeRouteCards"),this.getRouteDeck.length>0)&&((t=this.routesToChoose).push.apply(t,Object(ke["a"])(this.getRouteDeck.splice(-3))),this.showRoutesModal=!0)}},{key:"discardRoute",value:function(t){var e=this;this.routesToChoose.splice(0),t.forEach((function(t){e.$socket.emit("discardRoute",e.getCurrentName,t)})),this.setTimerForUser(),setTimeout((function(){e.$socket.emit("endOfTurn")}),this.timerForWait)}},{key:"pickCardTable",value:function(t){if(I("takeCard"),t.target instanceof Element){var e=t.target.closest(".deck")||t.target,i=e.getAttribute("data-color");if("loco"===i&&0===this.getTurnWeight||"loco"!==i){var a=Number(e.getAttribute("data-index"));this.$socket.emit("pickCardTable",this.getCurrentName,a,i),this.setTimerForUser(),("loco"===i||this.getTurnWeight>0)&&this.$socket.emit("endOfTurn")}}}},{key:"pickCardDeck",value:function(){I("takeCard"),this.$socket.emit("pickCardDeck",this.getCurrentName),this.setTimerForUser(),this.getTurnWeight>0&&this.$socket.emit("endOfTurn")}}]),i}(g["c"]));Oe=Object(m["a"])([Object(g["a"])({computed:Object(l["a"])({},Object(f["b"])(["getUsers","getTurn","getRouteDeck","getCardDeck","getCardTable","getCurrentName","getTurnWeight"])),components:{ModalWindow:Mt,Prepare:se}})],Oe);var je=Oe,we=je,_e=(i("dc11"),Object(x["a"])(we,ye,Ce,!1,null,"30424617",null)),Ae=_e.exports,Te=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"game-player",style:{"--user-color":t.currentColor}},[i("div",{staticClass:"table-background"}),i("ul",{staticClass:"player-box player-route"},t._l(t.currentTasks,(function(e,a){return i("li",{key:e.id,staticClass:"route player-box__item",attrs:{"data-route":e.id}},[i("div",{staticClass:"card-value",class:{complete:t.completedTasks.find((function(t){return t.id===e.id}))},on:{mouseover:function(i){t.showRouteInfo(e.cities),t.takeCardPlaySound()},mouseleave:t.hideRouteInfo}},[t._v(" "+t._s(e.points)+" ")]),i("div",{staticClass:"card",style:{background:"center / contain no-repeat url(./assets/game/route_cards/"+(e.id+1)+".png)","--card-num":a}})])})),0),i("transition-group",{staticClass:"player-box player-card",attrs:{name:"slide-down",tag:"ul",appear:"appear"}},t._l(t.cardsInHand,(function(e,a){return i("li",{directives:[{name:"show",rawName:"v-show",value:e[1]>0,expression:"card[1] > 0"}],key:a,staticClass:"player-box__item"},[i("div",{staticClass:"card-value",on:{mouseover:t.takeCardPlaySound}},[t._v(" "+t._s(e[1])+" ")]),i("div",{staticClass:"card",style:{background:"center / contain no-repeat url(./assets/game/wagon_cards/"+e[0]+".png)"}})])})),0)],1)},xe=[],Me=[{cities:["Athina","Angora"],id:0,points:5},{cities:["Budapest","Sofia"],id:1,points:5},{cities:["Frankfurt","Kobenhavn"],id:2,points:5},{cities:["Rostov","Erzurum"],id:3,points:5},{cities:["Sofia","Smyrna"],id:4,points:5},{cities:["Kyiv","Petrograd"],id:5,points:6},{cities:["Zurich","Brindisi"],id:6,points:6},{cities:["Zurich","Budapest"],id:7,points:6},{cities:["Warszawa","Smolensk"],id:8,points:6},{cities:["Zagrab","Brindisi"],id:9,points:6},{cities:["Paris","Zagrab"],id:10,points:7},{cities:["Brest","Marseille"],id:11,points:7},{cities:["London","Berlin"],id:12,points:7},{cities:["Edinburgh","Paris"],id:13,points:7},{cities:["Amsterdam","Pamplona"],id:14,points:7},{cities:["Roma","Smyrna"],id:15,points:8},{cities:["Palermo","Constantinople"],id:16,points:8},{cities:["Sarajevo","Sevastopol"],id:17,points:8},{cities:["Madrid","Dieppe"],id:18,points:8},{cities:["Barcelona","Bruxelles"],id:19,points:8},{cities:["Paris","Wien"],id:20,points:8},{cities:["Barcelona","Munchen"],id:21,points:8},{cities:["Brest","Venezia"],id:22,points:8},{cities:["Smolensk","Rostov"],id:23,points:8},{cities:["Marseille","Essen"],id:24,points:8},{cities:["Kyiv","Sochi"],id:25,points:8},{cities:["Madrid","Zurich"],id:26,points:8},{cities:["Berlin","Bucuresti"],id:27,points:8},{cities:["Bruxelles","Danzig"],id:28,points:9},{cities:["Berlin","Roma"],id:29,points:9},{cities:["Angora","Kharkov"],id:30,points:10},{cities:["Riga","Bucuresti"],id:31,points:10},{cities:["Essen","Kyiv"],id:32,points:10},{cities:["Venezia","Constantinople"],id:33,points:10},{cities:["London","Wien"],id:34,points:10},{cities:["Athina","Wilno"],id:35,points:11},{cities:["Stockholm","Wien"],id:36,points:11},{cities:["Berlin","Moskva"],id:37,points:12},{cities:["Amsterdam","Wilno"],id:38,points:12},{cities:["Frankfurt","Smolensk"],id:39,points:13},{cities:["Lisboa","Danzig"],id:40,points:20},{cities:["Brest","Petrograd"],id:41,points:20},{cities:["Palermo","Moskva"],id:42,points:20},{cities:["Kobenhavn","Erzurum"],id:43,points:21},{cities:["Edinburgh","Athina"],id:44,points:21},{cities:["Cadiz","Stockholm"],id:45,points:21}],Se=Me,ze=function(t){Object(h["a"])(i,t);var e=Object(p["a"])(i);function i(){var t;return Object(u["a"])(this,i),t=e.apply(this,arguments),t.taskInfo=Se,t.playSound=I,t}return Object(d["a"])(i,[{key:"onLengthChange",value:function(){this.playSound("taskCompleted")}},{key:"currentUser",get:function(){var t=this;return this.getUsers.find((function(e){return e.name===t.getCurrentName}))}},{key:"currentTasks",get:function(){var t;return null===(t=this.currentUser)||void 0===t?void 0:t.hand.currentTasks}},{key:"completedTasks",get:function(){var t;return null===(t=this.currentUser)||void 0===t?void 0:t.hand.completedTasks}},{key:"cardsInHand",get:function(){var t,e=null===(t=this.currentUser)||void 0===t?void 0:t.hand.cards;if(!e)return[];var i=Object.entries(e);return i}},{key:"currentColor",get:function(){var t=this.currentUser;return t?t.color:""}},{key:"showRouteInfo",value:function(t){this.$emit("showCities",t)}},{key:"hideRouteInfo",value:function(){this.$emit("hideCities")}},{key:"takeCardPlaySound",value:function(){this.playSound("takeCard")}}]),i}(g["c"]);Object(m["a"])([Object(g["d"])("getCompletedLength")],ze.prototype,"onLengthChange",null),ze=Object(m["a"])([Object(g["a"])({computed:Object(l["a"])({},Object(f["b"])(["getUsers","getCurrentName","getCompletedLength"]))})],ze);var Be=ze,Ne=Be,Re=(i("4042"),Object(x["a"])(Ne,Te,xe,!1,null,"b3b9da48",null)),Ee=Re.exports,We=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"chat-window",class:{minimized:t.minimized}},[i("div",{staticClass:"chat-minimize",class:{unread:t.unread},domProps:{innerHTML:t._s(t.chatArrow)},on:{click:t.toggleWindow}}),i("ul",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll",value:{smooth:!0},expression:"{smooth: true}"}],staticClass:"chat-field getHistory",attrs:{name:"slide-up"}},t._l(t.getHistory,(function(e,a){return i("li",{key:a,staticClass:"chat-message"},[i("span",{staticClass:"message-name",class:{"my-name":t.checkMyName(e.name)}},[t._v(t._s(e.name===t.getId?"Guest_"+e.name[0]+e.name[4]+e.name[e.name.length-1]:e.name))]),t._v(": "+t._s(e.message)+" ")])})),0),i("div",{staticClass:"chat-form"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"chat-input",attrs:{type:"text",placeholder:"Напиши сообщение..."},domProps:{value:t.message},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage.apply(null,arguments)},input:function(e){e.target.composing||(t.message=e.target.value)}}}),i("Btn",{staticClass:"btn-accept",attrs:{title:"<i class='fa-solid fa-paper-plane'></i>",method:t.sendMessage}})],1)])},Pe=[],Ue=i("123d"),Le=i.n(Ue);g["c"].use(Le.a);var $e=function(t){Object(h["a"])(i,t);var e=Object(p["a"])(i);function i(){var t;return Object(u["a"])(this,i),t=e.apply(this,arguments),t.message="",t.minimized=!0,t.unread=!1,t.playSound=I,t.chatArrow='<i class="fa-regular fa-messages"></i>',t}return Object(d["a"])(i,[{key:"onHistoryChange",value:function(){var t=this;this.playSound("message"),this.getHistory.length>0&&(this.minimized?this.unread=!0:(this.unread=!0,setTimeout((function(){t.unread=!1}),800)))}},{key:"toggleWindow",value:function(){this.minimized=!this.minimized,this.unread=!1,this.chatArrow=this.minimized?'<i class="fa-regular fa-messages"></i>':'<i class="fa-regular fa-arrow-down-from-dotted-line"></i>'}},{key:"checkMyName",value:function(t){return t===this.getCurrentName||(t==="Guest_".concat(this.getId[0]).concat(this.getId[4]).concat(this.getId[this.getId.length-1])||t===this.getId)}},{key:"sendMessage",value:function(){var t=this.getCurrentName||this.getId;this.message&&this.$socket.emit("sendMessage",{name:t,message:this.message}),this.message=""}}]),i}(g["c"]);Object(m["a"])([Object(g["d"])("getHistory")],$e.prototype,"onHistoryChange",null),$e=Object(m["a"])([Object(g["a"])({computed:Object(l["a"])({},Object(f["b"])(["getUsers","getCurrentName","getCompletedLength","getHistory","getId"])),components:{Btn:V}})],$e);var Ie=$e,De=Ie,Ke=(i("3eb2"),Object(x["a"])(De,We,Pe,!1,null,null,null)),Fe=Ke.exports,He=function(t){Object(h["a"])(i,t);var e=Object(p["a"])(i);function i(){var t;return Object(u["a"])(this,i),t=e.apply(this,arguments),t.prepareTimer=300,t.showModal=!0,t.storage=new P,t.visibleCities=[],t}return Object(d["a"])(i,[{key:"onTurnChange",value:function(){-1===this.getTurn&&(this.prepareTimer=30),I("gameTurn")}},{key:"currentUser",get:function(){var t=this;return this.getUsers.filter((function(e){return e.name===t.getCurrentName}))[0]}},{key:"checkUserInPlayerList",get:function(){return this.getUsers.includes(this.currentUser)}},{key:"created",value:function(){this.storage.data.name&&this.$store.commit("setCurrentName",this.storage.data.name),this.storage.data.color&&this.$store.commit("setCurrentColor",this.storage.data.color),this.$socket.emit("setId",this.storage.data.name)}},{key:"addUser",value:function(t,e){var i={name:t,ready:!1};this.$store.commit("setCurrentName",t),this.$socket.emit("setUsers",i,e)}},{key:"toggleStatus",value:function(t){this.$socket.emit("changeStatus",t)}},{key:"setColor",value:function(t,e){this.$socket.emit("setNewColor",{name:t,color:e})}},{key:"discardRoute",value:function(t){var e=this;t.forEach((function(t){e.$socket.emit("discardRoute",e.getCurrentName,t)})),this.$socket.emit("userPrepared",this.getCurrentName)}},{key:"showCities",value:function(t){this.visibleCities=t}},{key:"hideCities",value:function(){this.visibleCities=[]}}]),i}(g["c"]);Object(m["a"])([Object(g["d"])("getTurn")],He.prototype,"onTurnChange",null),He=Object(m["a"])([Object(g["a"])({components:{Lobby:Y,Map:Xt,ModalWindow:Mt,Prepare:se,UserSide:be,DeckSide:Ae,PlayerSide:Ee,Chat:Fe},computed:Object(l["a"])({},Object(f["b"])(["getUsers","getColors","getRailways","getGameStatus","getTurn","getCurrentName"])),methods:{},watch:{}})],He);var Ve=He,Ze=Ve,Ge=(i("5c0b"),Object(x["a"])(Ze,o,c,!1,null,null,null)),qe=Ge.exports,Je={state:{users:[],currentName:"",currentColor:""},mutations:{SOCKET_createApp:function(t,e){t.users=e.users;var i=new P;i.data.name&&(t.currentName=i.data.name)},SOCKET_updateUsers:function(t,e){var i;t.users=e,t.currentColor=(null===(i=t.users.find((function(e){return e.name===t.currentName})))||void 0===i?void 0:i.color)||""},setCurrentName:function(t,e){t.currentName=e},setCurrentColor:function(t,e){t.currentColor=e}},getters:{getUsers:function(t){return t.users},getColors:function(t){return t.users.map((function(t){return t.color}))},getCurrentName:function(t){return t.currentName},getCompletedLength:function(t){return t.users.filter((function(e){return e.name===t.currentName}))[0].hand.completedTasks.length}}},Xe=[{cities:["Edinburgh","London"],color:"black",id:"path-0",points:7,trainsAmount:4},{cities:["Bruxelles","Amsterdam"],color:"black",id:"path-1",points:1,trainsAmount:1},{cities:["Brest","Paris"],color:"black",id:"path-2",points:4,trainsAmount:3},{cities:["Frankfurt","Berlin"],color:"black",id:"path-3",points:4,trainsAmount:3},{cities:["Venezia","Roma"],color:"black",id:"path-4",points:2,trainsAmount:2},{cities:["Riga","Danzig"],color:"black",id:"path-5",points:4,trainsAmount:3},{cities:["Erzurum","Angora"],color:"black",id:"path-6",points:4,trainsAmount:3},{cities:["Bruxelles","Frankfurt"],color:"blue",id:"path-7",points:2,trainsAmount:2},{cities:["Essen","Berlin"],color:"blue",id:"path-8",points:2,trainsAmount:2},{cities:["Paris","Pamplona"],color:"blue",id:"path-9",points:7,trainsAmount:4},{cities:["Wien","Warszawa"],color:"blue",id:"path-10",points:7,trainsAmount:4},{cities:["Venezia","Munchen"],color:"blue",id:"path-11",points:2,trainsAmount:2},{cities:["Wilno","Petrograd"],color:"blue",id:"path-12",points:7,trainsAmount:4},{cities:["Constantinople","Sofia"],color:"blue",id:"path-13",points:4,trainsAmount:3},{cities:["Lisboa","Cadiz"],color:"blue",id:"path-14",points:2,trainsAmount:2},{cities:["Dieppe","Bruxelles"],color:"green",id:"path-15",points:2,trainsAmount:2},{cities:["Essen","Frankfurt"],color:"green",id:"path-16",points:2,trainsAmount:2},{cities:["Paris","Pamplona"],color:"green",id:"path-17",points:7,trainsAmount:4},{cities:["Zurich","Venezia"],color:"green",id:"path-18",points:2,trainsAmount:2},{cities:["Berlin","Wien"],color:"green",id:"path-19",points:4,trainsAmount:3},{cities:["Riga","Wilno"],color:"green",id:"path-20",points:7,trainsAmount:4},{cities:["Rostov","Kharkov"],color:"green",id:"path-21",points:2,trainsAmount:2},{cities:["Athina","Sarajevo"],color:"green",id:"path-22",points:7,trainsAmount:4},{cities:["Edinburgh","London"],color:"orange",id:"path-23",points:7,trainsAmount:4},{cities:["Dieppe","Brest"],color:"orange",id:"path-24",points:2,trainsAmount:2},{cities:["Paris","Frankfurt"],color:"orange",id:"path-25",points:4,trainsAmount:3},{cities:["Wien","Munchen"],color:"orange",id:"path-26",points:4,trainsAmount:3},{cities:["Budapest","Zagrab"],color:"orange",id:"path-27",points:2,trainsAmount:2},{cities:["Moskva","Smolensk"],color:"orange",id:"path-28",points:2,trainsAmount:2},{cities:["Smyrna","Angora"],color:"orange",id:"path-29",points:4,trainsAmount:3},{cities:["Madrid","Cadiz"],color:"orange",id:"path-30",points:4,trainsAmount:3},{cities:["Bruxelles","Paris"],color:"red",id:"path-31",points:2,trainsAmount:2},{cities:["Pamplona","Marseille"],color:"red",id:"path-32",points:7,trainsAmount:4},{cities:["Frankfurt","Berlin"],color:"red",id:"path-33",points:4,trainsAmount:3},{cities:["Wien","Budapest"],color:"red",id:"path-34",points:1,trainsAmount:1},{cities:["Kyiv","Smolensk"],color:"red",id:"path-35",points:4,trainsAmount:3},{cities:["Wilno","Warszawa"],color:"red",id:"path-36",points:4,trainsAmount:3},{cities:["Erzurum","Sochi"],color:"red",id:"path-37",points:4,trainsAmount:3},{cities:["Sarajevo","Zagrab"],color:"red",id:"path-38",points:4,trainsAmount:3},{cities:["Brest","Pamplona"],color:"purple",id:"path-39",points:7,trainsAmount:4},{cities:["Zurich","Marseille"],color:"purple",id:"path-40",points:2,trainsAmount:2},{cities:["Frankfurt","Munchen"],color:"purple",id:"path-41",points:2,trainsAmount:2},{cities:["Berlin","Warszawa"],color:"purple",id:"path-42",points:7,trainsAmount:4},{cities:["Budapest","Sarajevo"],color:"purple",id:"path-43",points:4,trainsAmount:3},{cities:["Athina","Sofia"],color:"purple",id:"path-44",points:4,trainsAmount:3},{cities:["Madrid","Lisboa"],color:"purple",id:"path-45",points:4,trainsAmount:3},{cities:["Amsterdam","Frankfurt"],color:"white",id:"path-46",points:2,trainsAmount:2},{cities:["Kobenhavn","Stockholm"],color:"white",id:"path-47",points:4,trainsAmount:3},{cities:["Paris","Frankfurt"],color:"white",id:"path-48",points:4,trainsAmount:3},{cities:["Wien","Budapest"],color:"white",id:"path-49",points:1,trainsAmount:1},{cities:["Petrograd","Moskva"],color:"white",id:"path-50",points:7,trainsAmount:4},{cities:["Sevastopol","Bucuresti"],color:"white",id:"path-51",points:7,trainsAmount:4},{cities:["Roma","Brindisi"],color:"white",id:"path-52",points:2,trainsAmount:2},{cities:["Madrid","Pamplona"],color:"white",id:"path-53",points:4,trainsAmount:3},{cities:["Amsterdam","Essen"],color:"yellow",id:"path-54",points:4,trainsAmount:3},{cities:["Bruxelles","Paris"],color:"yellow",id:"path-55",points:2,trainsAmount:2},{cities:["Kobenhavn","Stockholm"],color:"yellow",id:"path-56",points:4,trainsAmount:3},{cities:["Zurich","Munchen"],color:"yellow",id:"path-57",points:2,trainsAmount:2},{cities:["Berlin","Warszawa"],color:"yellow",id:"path-58",points:7,trainsAmount:4},{cities:["Wilno","Smolensk"],color:"yellow",id:"path-59",points:4,trainsAmount:3},{cities:["Constantinople","Bucuresti"],color:"yellow",id:"path-60",points:4,trainsAmount:3},{cities:["Barcelona","Madrid"],color:"yellow",id:"path-61",points:2,trainsAmount:2},{cities:["London","Dieppe"],color:"multi",id:"path-62",points:2,trainsAmount:2},{cities:["London","Dieppe"],color:"multi",id:"path-63",points:2,trainsAmount:2},{cities:["London","Amsterdam"],color:"multi",id:"path-64",points:2,trainsAmount:2},{cities:["Essen","Kobenhavn"],color:"multi",id:"path-65",points:4,trainsAmount:3},{cities:["Essen","Kobenhavn"],color:"multi",id:"path-66",points:4,trainsAmount:3},{cities:["Paris","Zurich"],color:"multi",id:"path-67",points:4,trainsAmount:3},{cities:["Paris","Marseille"],color:"multi",id:"path-68",points:7,trainsAmount:4},{cities:["Berlin","Danzig"],color:"multi",id:"path-69",points:7,trainsAmount:4},{cities:["Wien","Zagrab"],color:"multi",id:"path-70",points:2,trainsAmount:2},{cities:["Venezia","Zagrab"],color:"multi",id:"path-71",points:2,trainsAmount:2},{cities:["Budapest","Kyiv"],color:"multi",id:"path-72",points:15,trainsAmount:6},{cities:["Budapest","Bucuresti"],color:"multi",id:"path-73",points:7,trainsAmount:4},{cities:["Stockholm","Petrograd"],color:"multi",id:"path-74",points:21,trainsAmount:8},{cities:["Moskva","Kharkov"],color:"multi",id:"path-75",points:7,trainsAmount:4},{cities:["Kyiv","Warszawa"],color:"multi",id:"path-76",points:7,trainsAmount:4},{cities:["Kyiv","Wilno"],color:"multi",id:"path-77",points:2,trainsAmount:2},{cities:["Kyiv","Kharkov"],color:"multi",id:"path-78",points:7,trainsAmount:4},{cities:["Kyiv","Bucuresti"],color:"multi",id:"path-79",points:7,trainsAmount:4},{cities:["Riga","Petrograd"],color:"multi",id:"path-80",points:7,trainsAmount:4},{cities:["Rostov","Sevastopol"],color:"multi",id:"path-81",points:7,trainsAmount:4},{cities:["Rostov","Sochi"],color:"multi",id:"path-82",points:2,trainsAmount:2},{cities:["Erzurum","Sevastopol"],color:"multi",id:"path-83",points:7,trainsAmount:4},{cities:["Sevastopol","Sochi"],color:"multi",id:"path-84",points:2,trainsAmount:2},{cities:["Sevastopol","Constantinople"],color:"multi",id:"path-85",points:7,trainsAmount:4},{cities:["Constantinople","Smyrna"],color:"multi",id:"path-86",points:2,trainsAmount:2},{cities:["Constantinople","Angora"],color:"multi",id:"path-87",points:2,trainsAmount:2},{cities:["Smyrna","Palermo"],color:"multi",id:"path-88",points:15,trainsAmount:6},{cities:["Smyrna","Athina"],color:"multi",id:"path-89",points:2,trainsAmount:2},{cities:["Athina","Brindisi"],color:"multi",id:"path-90",points:7,trainsAmount:4},{cities:["Roma","Marseille"],color:"multi",id:"path-91",points:7,trainsAmount:4},{cities:["Roma","Palermo"],color:"multi",id:"path-92",points:7,trainsAmount:4},{cities:["Brindisi","Palermo"],color:"multi",id:"path-93",points:4,trainsAmount:3},{cities:["Sofia","Sarajevo"],color:"multi",id:"path-94",points:2,trainsAmount:2},{cities:["Sofia","Bucuresti"],color:"multi",id:"path-95",points:2,trainsAmount:2},{cities:["Warszawa","Danzig"],color:"multi",id:"path-96",points:2,trainsAmount:2},{cities:["Barcelona","Pamplona"],color:"multi",id:"path-97",points:2,trainsAmount:2},{cities:["Barcelona","Marseille"],color:"multi",id:"path-98",points:7,trainsAmount:4},{cities:["Madrid","Pamplona"],color:"multi",id:"path-99",points:4,trainsAmount:3}],Ye=Xe,Qe={state:{railways:[],railwaysInfo:Ye},mutations:{SOCKET_createApp:function(t,e){t.railways=e.railways},SOCKET_setRailwayStatus:function(t,e){var i=t.railways.find((function(t){return t.id===e.path}));i&&(i.status=e.currentName)}},getters:{getRailways:function(t){return t.railways},getRailwaysInfo:function(t){return t.railwaysInfo}}},ti=(i("4e82"),{state:{gameStatus:!1,gameTurn:-2,gameDeck:{},turnWeight:0,result:[],turnToEnd:9999},mutations:{SOCKET_createApp:function(t,e){t.gameStatus=e.gameStatus,t.gameTurn=e.gameTurn,t.gameDeck=e.gameDeck,t.turnWeight=e.turnWeight,t.result=e.result,t.turnToEnd=e.turnToEnd},SOCKET_updateGameStatus:function(t,e){t.gameStatus=e},SOCKET_updateGameTurn:function(t,e){t.gameTurn=e},SOCKET_updateTurnWeight:function(t,e){t.turnWeight=e},SOCKET_preTurn:function(t,e){t.gameDeck=e},SOCKET_setTurnToEnd:function(t,e){t.turnToEnd=e}},actions:{},getters:{getGameStatus:function(t){return t.gameStatus},getTurn:function(t){return t.gameTurn},getRouteDeck:function(t){return t.gameDeck.route},getCardDeck:function(t){return t.gameDeck.deck},getCardTable:function(t){return t.gameDeck.table},getTurnWeight:function(t){return t.turnWeight},getTurnToEnd:function(t){return t.turnToEnd},getResult:function(t){return t.result.sort((function(t,e){return e.score-t.score}))}}}),ei={state:{id:"",incomingMessage:"",history:[]},mutations:{SOCKET_createApp:function(t,e){t.id=e.id,t.history=e.chatHistory},SOCKET_incomingMessage:function(t,e){t.history.push(e)}},actions:{},getters:{getId:function(t){return t.id},getHistory:function(t){return t.history}}};a["a"].use(f["a"]);var ii=new f["a"].Store({state:{},mutations:{},actions:{},modules:{user:Je,railway:Qe,game:ti,chat:ei}}),ai=ii;a["a"].config.productionTip=!1;var si={heroku:"https://sleepy-eyrie-63882.herokuapp.com/",local:"http://localhost:3000/"};a["a"].use(new r.a({connection:Object(n["a"])(si.heroku),vuex:{store:ai,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),new a["a"]({store:ai,render:function(t){return t(qe)}}).$mount("#app")},cf7c:function(t,e,i){"use strict";i("4bf8")},cfaa:function(t,e,i){},dc11:function(t,e,i){"use strict";i("02fc")},e8cb:function(t,e,i){},fbbe:function(t,e,i){"use strict";i("6692")},fe22:function(t,e,i){t.exports=i.p+"img/logo_.6c96d9bf.png"}});
//# sourceMappingURL=app.500c410d.js.map